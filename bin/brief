#!/usr/bin/env ruby

$:.unshift File.join(File.dirname(__FILE__),'..','lib')

begin
  require 'bundler'
  Bundler.require
rescue
  require 'rubygems'
end

require 'brief'
require 'brief/dsl'

if ARGV[0] == "console"
  require 'pry'
  $briefcase = Brief::Briefcase.new(root: Brief.pwd)
  Pry.start($briefcase)
else
  require 'commander/import'

  program :name, "Brief"
  program :description, "Brief lets you treat your markdown files like active record objects"
  program :version, Brief::VERSION 

  Brief.load_commands()
end
